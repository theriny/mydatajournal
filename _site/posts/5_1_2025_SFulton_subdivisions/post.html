<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Therin Young">
<meta name="dcterms.date" content="2025-05-01">
<meta name="description" content="Exploring subdivision data as it relates to the shape area and length of the subdivisions">

<title>Part 1: Exploring Fulton County’s Subdivision Data – Journal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Journal</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">My Data Journal</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../scholarship/scholarship.html"> 
<span class="menu-text">Scholarship</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Part 1: Exploring Fulton County’s Subdivision Data</h1>
                  <div>
        <div class="description">
          Exploring subdivision data as it relates to the shape area and length of the subdivisions
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">python</div>
                <div class="quarto-category">housing development</div>
                <div class="quarto-category">realestate</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Therin Young </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 1, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#get-dependencies" id="toc-get-dependencies" class="nav-link active" data-scroll-target="#get-dependencies">Get Dependencies</a></li>
  <li><a href="#read-data" id="toc-read-data" class="nav-link" data-scroll-target="#read-data">Read Data</a></li>
  <li><a href="#a-little-tidying-up" id="toc-a-little-tidying-up" class="nav-link" data-scroll-target="#a-little-tidying-up">A little tidying up</a></li>
  <li><a href="#exploration" id="toc-exploration" class="nav-link" data-scroll-target="#exploration">Exploration 🧭🔍</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>This is part 1 of a 2- (maybe 3) series analysis of <strong>Fulton County, Georgia’s</strong> subdivisions, where the only metrics recorded are <strong>shape area</strong> and <strong>shape length</strong>📐📏 (A little more detail about those metrics later in the analysis). Doesn’t seem like a very interesting dataset at first glance🥸, but I always uncover interesting and unexpected nuggets🪙 of information from seemingly dull datasets. So, if I find a rabbit hole, let’s hope it’s a fun one.🐰</p>
<p>I’m going to start the first part of the series from far out🛰️ (basic statistics) and gradually hone in for a more nuanced analysis🔬 as the series progresses and I begin to ask questions about the data that is relevant to my own location in <strong>South Fulton</strong>.</p>
<p>I’m going to place this series in <strong>Housing and Development</strong>🏘️, so readers who are experts or simply enthusiasts of the field can feel free to offer suggestions, comments, and any version of personal opinion on the matter. I’d love to hear other takes and approaches to extracting meaning from this type of dataset.</p>
<p>Happy Exploring! 🏔️</p>
<p>Data Source: https://gisdata.fultoncountyga.gov/ GitHub Repo: https://github.com/theriny/fultoncounty_subdivisions</p>
<section id="get-dependencies" class="level3">
<h3 class="anchored" data-anchor-id="get-dependencies">Get Dependencies</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="read-data" class="level3">
<h3 class="anchored" data-anchor-id="read-data">Read Data</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'Subdivisions.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

<table class="dataframe table table-sm table-striped small">
<thead>
<tr>
<th>
</th>
<th>
OBJECTID
</th>
<th>
YearRecorded
</th>
<th>
DocBook
</th>
<th>
DocPage
</th>
<th>
Shape__Area
</th>
<th>
Shape__Length
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
count
</th>
<td>
3677.000000
</td>
<td>
1823.000000
</td>
<td>
83.000000
</td>
<td>
83.000000
</td>
<td>
3.675000e+03
</td>
<td>
3675.000000
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
2081.452543
</td>
<td>
2002.259462
</td>
<td>
313.493976
</td>
<td>
79.000000
</td>
<td>
1.107878e+06
</td>
<td>
4214.630614
</td>
</tr>
<tr>
<th>
std
</th>
<td>
1918.580076
</td>
<td>
26.901355
</td>
<td>
131.934978
</td>
<td>
41.136596
</td>
<td>
2.252761e+06
</td>
<td>
3748.502907
</td>
</tr>
<tr>
<th>
min
</th>
<td>
1.000000
</td>
<td>
978.000000
</td>
<td>
99.000000
</td>
<td>
1.000000
</td>
<td>
3.198242e-02
</td>
<td>
16.750267
</td>
</tr>
<tr>
<th>
25%
</th>
<td>
941.000000
</td>
<td>
1995.000000
</td>
<td>
183.500000
</td>
<td>
44.000000
</td>
<td>
1.702545e+05
</td>
<td>
1867.852593
</td>
</tr>
<tr>
<th>
50%
</th>
<td>
1876.000000
</td>
<td>
2004.000000
</td>
<td>
333.000000
</td>
<td>
75.000000
</td>
<td>
5.075356e+05
</td>
<td>
3355.910444
</td>
</tr>
<tr>
<th>
75%
</th>
<td>
2799.000000
</td>
<td>
2013.000000
</td>
<td>
445.500000
</td>
<td>
114.500000
</td>
<td>
1.218273e+06
</td>
<td>
5457.816465
</td>
</tr>
<tr>
<th>
max
</th>
<td>
14872.000000
</td>
<td>
2023.000000
</td>
<td>
464.000000
</td>
<td>
148.000000
</td>
<td>
4.476438e+07
</td>
<td>
55177.479838
</td>
</tr>
</tbody>
</table>
</div>
<p>This dataset contains the <strong>shape area</strong> and <strong>shape length</strong> of subdivisions for various cities in Fulton County, Georgia that span from <strong>978</strong> to 2023. <strong>978</strong>!?!?😲 It seems we may have a typo. Let’s look at the unique years that were recorded.</p>
</section>
<section id="a-little-tidying-up" class="level3">
<h3 class="anchored" data-anchor-id="a-little-tidying-up">A little tidying up</h3>
<p>Yea, let’s change 978 to 1978. How many times was this typo made?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'YearRecorded'</span>] <span class="op">==</span> <span class="fl">978.</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

<table class="dataframe table table-sm table-striped small">
<thead>
<tr>
<th>
</th>
<th>
OBJECTID
</th>
<th>
SubdivName
</th>
<th>
CreatedBy
</th>
<th>
CreateDate
</th>
<th>
Editor
</th>
<th>
LastEdit
</th>
<th>
City
</th>
<th>
FeatureID
</th>
<th>
YearRecorded
</th>
<th>
DocBook
</th>
<th>
DocPage
</th>
<th>
DocType
</th>
<th>
Shape__Area
</th>
<th>
Shape__Length
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
3642
</th>
<td>
13636
</td>
<td>
Cameron Crest Farms
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/10/17 12:07:11+00
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/10/17 12:08:24+00
</td>
<td>
Johns Creek
</td>
<td>
LSD0000413
</td>
<td>
978.0
</td>
<td>
113.0
</td>
<td>
4.0
</td>
<td>
PL
</td>
<td>
5.919767e+06
</td>
<td>
11584.65774
</td>
</tr>
</tbody>
</table>
</div>
<p>Only once on row 3642. So let’s make a quick fix using pandas <em>.loc</em> function.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># replace 978 in row 3642 with 1978</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">3642</span>,<span class="st">'YearRecorded'</span>] <span class="op">=</span> <span class="dv">1978</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sort record dates</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>np.sort(df[<span class="st">'YearRecorded'</span>].unique())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>array([1939., 1961., 1968., 1970., 1971., 1972., 1973., 1974., 1975.,
       1976., 1977., 1978., 1979., 1980., 1981., 1982., 1983., 1984.,
       1985., 1986., 1987., 1988., 1989., 1990., 1991., 1992., 1993.,
       1994., 1995., 1996., 1997., 1998., 1999., 2000., 2001., 2002.,
       2003., 2004., 2005., 2006., 2007., 2008., 2009., 2010., 2011.,
       2012., 2013., 2014., 2015., 2016., 2017., 2018., 2019., 2020.,
       2021., 2022., 2023.,   nan])</code></pre>
<p>Since the <strong>YearRecorded</strong> field will be used later down the line, I want to remove any rows with <em>nan</em> in this column. How many of these rows are there?</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(df[np.isnan(df[<span class="st">'YearRecorded'</span>]) <span class="op">==</span> <span class="va">True</span>].shape[<span class="dv">0</span>])<span class="op">/</span>df.shape[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>0.5042153929834103</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>(3677, 14)</code></pre>
<p>That’s 50% of the dataset 😲. Now, there are two columns in the dataset: <strong>CreateDate</strong> and <strong>LastEdit</strong>, which have the same date value and seem to be dates related to when the editor of the dataset, Stephanie Yancey (Column: <strong>CreatedBy</strong>) edited or entered the data, so not necessarily the original date of when the information was first recorded. I could replace the <em>nan</em> dates of <strong>YearRecorded</strong> with one these dates, but that could lead to faulty results when I want to look at things like <em>what was the average subdivision shape area in 2023?</em>, since the majority of Stephanie Yancey’s edits were in 2023.</p>
<p>Sooo, I’m going to remove the nan rows (<em>for now</em>).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove rows where YearRecorded is nan</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[np.isnan(df[<span class="st">'YearRecorded'</span>]) <span class="op">!=</span> <span class="va">True</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># confirm rows were removed</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>(1823, 14)</code></pre>
<p>Let’s also convert <strong>shape area</strong> from square-feet to acres. I’m guessing the current values for shape area are in square feet, and shape length is in feet. 📏📐</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert square feet to acres (43,560 square feet is 1 acre)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Shape__Area'</span>] <span class="op">=</span> df[<span class="st">'Shape__Area'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x<span class="op">/</span><span class="fl">43560.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exploration" class="level3">
<h3 class="anchored" data-anchor-id="exploration">Exploration 🧭🔍</h3>
<p>Awesome!🙆🏾 So, the subdivision shape area and length data recordings range from 1939 to 2023. I’m curious to know if the area and/or length of a subdivision can change over time. I’m sure it can if say, a subdivision is rezoned due to home reductions or additions, but I want to know if those events are captured in the data. I’ll create a function that will essentially: 1. Determine if a subdivision name is in more than one row of the dataset.💭(duplicate entry OR same subdiv name but different city OR same subdiv name and city but different shape area/length and record dates (the gold 🪙) 2. Determine if the subdivision’s city is the same for each additional appearance of the subdivision (if it’s not, this probably means the cities have subdivisions with the same name, which is common) 💭 3. The function will return a table that lists all subdivisions that meet the above criteria.💭</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 🧑🏾‍💻Create function that finds subdivisions with more than 1 record where the measurement and/or year are different between the records</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> Subdivisions_With_Updates(dataframe):</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create empty lists to capture city, year, shape, subdivname</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    city <span class="op">=</span> []</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    year <span class="op">=</span> []</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    shape <span class="op">=</span> []</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    subdivname <span class="op">=</span> []</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> subdiv <span class="kw">in</span> dataframe[<span class="st">'SubdivName'</span>].unique():</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># get subset of dataframe only containing current subdivision</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>        uniqueSubs <span class="op">=</span> dataframe[dataframe[<span class="st">'SubdivName'</span>] <span class="op">==</span> subdiv]</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># get the unique cities associated with current subdivision</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>        uniqueCity <span class="op">=</span> dataframe[dataframe[<span class="st">'SubdivName'</span>] <span class="op">==</span> subdiv][<span class="st">'City'</span>].unique()</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="bu">len</span>(uniqueSubs) <span class="op">&gt;</span> <span class="dv">1</span>) <span class="op">&amp;</span> (<span class="bu">len</span>(uniqueCity) <span class="op">==</span> <span class="dv">1</span>): <span class="co">#if the subdivision appears more than once and there is one unique city, this indicates a change in the subdivisions recorded area/length</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="bu">len</span>(uniqueSubs)):</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>                uniqueSubs <span class="op">=</span> uniqueSubs.reset_index(drop<span class="op">=</span><span class="va">True</span>) <span class="co"># reset index</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>                subdivname.append(uniqueSubs[<span class="st">'SubdivName'</span>][i])</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>                city.append(uniqueSubs[<span class="st">'City'</span>][i])</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>                year.append(uniqueSubs[<span class="st">'YearRecorded'</span>][i])</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>                shape.append(uniqueSubs[<span class="st">'Shape__Area'</span>][i])</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>            <span class="va">None</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> pd.DataFrame({<span class="st">'SubDivName'</span>: subdivname, <span class="st">'City'</span>: city, <span class="st">'Year'</span>: year, <span class="st">'Shape Area'</span>: shape})</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results      </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the function and save results to 'results' variable</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> Subdivisions_With_Updates(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>results.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

<table class="dataframe table table-sm table-striped small">
<thead>
<tr>
<th>
</th>
<th>
SubDivName
</th>
<th>
City
</th>
<th>
Year
</th>
<th>
Shape Area
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
0
</th>
<td>
DPMS Builders LLC Phase 3
</td>
<td>
Atlanta
</td>
<td>
2017.0
</td>
<td>
0.246343
</td>
</tr>
<tr>
<th>
1
</th>
<td>
DPMS Builders LLC Phase 3
</td>
<td>
Atlanta
</td>
<td>
2016.0
</td>
<td>
1.868496
</td>
</tr>
<tr>
<th>
2
</th>
<td>
Overton Hills
</td>
<td>
Sandy Springs
</td>
<td>
1978.0
</td>
<td>
17.816186
</td>
</tr>
<tr>
<th>
3
</th>
<td>
Overton Hills
</td>
<td>
Sandy Springs
</td>
<td>
1978.0
</td>
<td>
15.884354
</td>
</tr>
<tr>
<th>
4
</th>
<td>
Cameron Crest Farms
</td>
<td>
Johns Creek
</td>
<td>
1978.0
</td>
<td>
219.386157
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get unique subdivisions whose shape area has at some point in time</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(<span class="bu">list</span>(results[<span class="st">'SubDivName'</span>].unique()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>15</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get unique subdivisions in dataset</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>df.groupby(by<span class="op">=</span>[<span class="st">'SubdivName'</span>,<span class="st">'City'</span>]).ngroups</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>1791</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(<span class="bu">list</span>(df[<span class="st">'SubdivName'</span>].unique()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>1803</code></pre>
<p>We can see 🙈 that 21 of the subdivisions’ shape size has changed at some point in time. Thats 21 out of 3,628 unique subdivisions in the dataset (taking into account that some cities share subdivivision names)…That’s less than 1%🤏🏾. This indicates that subdivisions are rarely reduced or increased in size after they have been developed (in Fulton County, GA).</p>
<p>I’m also curious to know if the average shape area of subdivisions has evolved over the years.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the average subdivision shape area for each year</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>shapeArea_perYear <span class="op">=</span> df.groupby(by<span class="op">=</span>[<span class="st">'YearRecorded'</span>]).agg({<span class="st">'Shape__Area'</span>: <span class="st">'mean'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>plt.bar(shapeArea_perYear.index,shapeArea_perYear.Shape__Area)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Shape Area (acres)'</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'YearRecorded'</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Text(0.5, 0, 'YearRecorded')</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="output_32_1.png" class="img-fluid figure-img"></p>
<figcaption>png</figcaption>
</figure>
</div>
<p>It’s interesting to note that there was a 20-year gap between 1940 and 1960 where no data was reported. 😯</p>
<p>What subdivisions existed in 1939 in Fulton County, GA???</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'YearRecorded'</span>] <span class="op">==</span> <span class="fl">1939.0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

<table class="dataframe table table-sm table-striped small">
<thead>
<tr>
<th>
</th>
<th>
OBJECTID
</th>
<th>
SubdivName
</th>
<th>
CreatedBy
</th>
<th>
CreateDate
</th>
<th>
Editor
</th>
<th>
LastEdit
</th>
<th>
City
</th>
<th>
FeatureID
</th>
<th>
YearRecorded
</th>
<th>
DocBook
</th>
<th>
DocPage
</th>
<th>
DocType
</th>
<th>
Shape__Area
</th>
<th>
Shape__Length
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
2923
</th>
<td>
2965
</td>
<td>
Broad Subdivision
</td>
<td>
CHRIS.MCMILLER
</td>
<td>
2019/03/28 14:36:37+00
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/09/28 10:44:07+00
</td>
<td>
South Fulton
</td>
<td>
LSD0000329
</td>
<td>
1939.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
200.350853
</td>
<td>
20924.700663
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Broad Subdivision</strong>🤔 I’m guessing this is a collection of subdivisions rolled into a single datapoint because it’s just weird to think a single subdivision was that large in 1939 and non-existent 20 years later after no data was recorded for 20 years. It’s fair to say data recording didn’t become more consistent until the 1970’s, so it might be fair cut datapoints earlier than 1970 moving forward. There are, however, additional peaks in shape area for 4 or 5 of the years after 1970 that should be investigated.</p>
<p>What about subdivision shape length?</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate average subdivision shape length per year</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>shapeLength_perYear <span class="op">=</span> df.groupby(by<span class="op">=</span><span class="st">'YearRecorded'</span>).agg({<span class="st">'Shape__Length'</span>:<span class="st">'mean'</span>})</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>plt.bar(shapeLength_perYear.index,shapeLength_perYear.Shape__Length)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'YearRecorded'</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Shape Length (ft)'</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>Text(0, 0.5, 'Shape Length (ft)')</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="output_38_1.png" class="img-fluid figure-img"></p>
<figcaption>png</figcaption>
</figure>
</div>
<p>Let’s end the first part of the series by looking at the <strong>top 5️⃣</strong> subdivisions with the largest shape areas. But lets first remove any recordings <strong>before 1970</strong>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get records from 1970 and up</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>df_post1970 <span class="op">=</span> df[df[<span class="st">'YearRecorded'</span>] <span class="op">&gt;</span> <span class="fl">1969.0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sorted_post1970 <span class="op">=</span> df_post1970.sort_values(by<span class="op">=</span><span class="st">'Shape__Area'</span>,ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sorted_post1970.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

<table class="dataframe table table-sm table-striped small">
<thead>
<tr>
<th>
</th>
<th>
OBJECTID
</th>
<th>
SubdivName
</th>
<th>
CreatedBy
</th>
<th>
CreateDate
</th>
<th>
Editor
</th>
<th>
LastEdit
</th>
<th>
City
</th>
<th>
FeatureID
</th>
<th>
YearRecorded
</th>
<th>
DocBook
</th>
<th>
DocPage
</th>
<th>
DocType
</th>
<th>
Shape__Area
</th>
<th>
Shape__Length
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
518
</th>
<td>
539
</td>
<td>
Martins Landing/Lakeview Homes
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/09/28 10:44:07+00
</td>
<td>
Roswell
</td>
<td>
LSD0001546
</td>
<td>
1981.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
1027.648744
</td>
<td>
34842.968347
</td>
</tr>
<tr>
<th>
3373
</th>
<td>
3415
</td>
<td>
Horseshoe Bend
</td>
<td>
DALU.FAB-UKOZOR
</td>
<td>
2020/07/30 14:08:32+00
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/09/28 10:44:07+00
</td>
<td>
NaN
</td>
<td>
LSD0001239
</td>
<td>
1994.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
860.696880
</td>
<td>
40867.862487
</td>
</tr>
<tr>
<th>
461
</th>
<td>
482
</td>
<td>
Willow Springs
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/09/28 10:44:07+00
</td>
<td>
Roswell
</td>
<td>
LSD0002852
</td>
<td>
1985.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
581.907403
</td>
<td>
26407.221626
</td>
</tr>
<tr>
<th>
668
</th>
<td>
689
</td>
<td>
Saddle Creek
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/09/28 10:44:07+00
</td>
<td>
Roswell
</td>
<td>
LSD0002204
</td>
<td>
1985.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
431.206870
</td>
<td>
18912.245659
</td>
</tr>
<tr>
<th>
2640
</th>
<td>
2682
</td>
<td>
Cedar Grove Village Phase 1 Section A
</td>
<td>
CHRIS.MCMILLER
</td>
<td>
2018/12/20 12:25:46+00
</td>
<td>
STEPHANIE.YANCEY
</td>
<td>
2023/09/28 10:54:34+00
</td>
<td>
South Fulton
</td>
<td>
LSD0000483
</td>
<td>
2003.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
377.121148
</td>
<td>
21131.509310
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>sorted_post1970.iloc[:<span class="dv">5</span>], x <span class="op">=</span> <span class="st">'SubdivName'</span>,y<span class="op">=</span> <span class="st">'Shape__Area'</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Shape Area (acres)'</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Subdivision'</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>(array([0, 1, 2, 3, 4]),
 [Text(0, 0, 'Martins Landing/Lakeview Homes'),
  Text(1, 0, 'Horseshoe Bend'),
  Text(2, 0, 'Willow Springs'),
  Text(3, 0, 'Saddle Creek'),
  Text(4, 0, 'Cedar Grove Village Phase 1 Section A')])</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="output_43_1.png" class="img-fluid figure-img"></p>
<figcaption>png</figcaption>
</figure>
</div>
<p>And, that is an interesting place to end. The 5th largest subdivision shape area happens to be the subdivision I live in, at about 400 acres! 😲🙂</p>
<p>The next installment to this series is coming soon. Until then, Happy Exploring.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{young2025,
  author = {Young, Therin},
  title = {Part 1: {Exploring} {Fulton} {County’s} {Subdivision} {Data}},
  date = {2025-05-01},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-young2025" class="csl-entry quarto-appendix-citeas" role="listitem">
Young, Therin. 2025. <span>“Part 1: Exploring Fulton County’s
Subdivision Data.”</span> May 1, 2025.
</div></div></section></div></main> <!-- /main -->
<div>

    <hr>

    

    <h4> Stay in touch </h4>

    

    <iframe src="https://embeds.beehiiv.com/cb95c556-8bf4-4ed1-865d-f20fdb642a1a?slim=true" data-test-id="beehiiv-embed" height="52" frameborder="0" scrolling="no" style="margin: 0; border-radius: 0px !important; background-color: transparent;"><script type="text/javascript" async src="https://embeds.beehiiv.com/attribution.js"></script></iframe>



    

    <script src="https://storage.ko-fi.com/cdn/scripts/overlay-widget.js"></script>

    <script>

      kofiWidgetOverlay.draw('therin229', {

        'type': 'floating-chat',

        'floating-chat.donateButton.text': 'Support me',

        'floating-chat.donateButton.background-color': '#00b9fe',

        'floating-chat.donateButton.text-color': '#fff'

      });

    </script>    

    <hr>

    </div>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>